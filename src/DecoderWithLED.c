#include <hidef.h>                        /* common defines and macros */#include <MC9S12C128.h>                     /* derivative information */#pragma LINK_INFO DERIVATIVE "mc9s12c128"#include "stdio.h"#include "termio.h"int overflow = 0;                     //initializes an integer overflow to 0int flag = 0; 					//initializes an integer flag to 0int state = 0; 					//initializes an integer state to 0void interrupt 10 IC2ISR(void) {  // ISR tells microcontroller what to do                                         // when the interrupt occurs TFLG1 |= 0x04;					//clears the flag if(!state) {					//checks if state is 0 //  printf("inside the 1st if \n");   overflow = 0;					//makes overflow equal to 0 } //printf("ov0: %d \n", overflow); if(overflow >= 1 && overflow <= 6){	//checks if overflow is greater than 1 and less than 6   PORTB = 0x40;					//switches the decimal dot on   for(int i=0;i<50000;i++)			//waits briefly   {}		   PORTB = 0x00;					//switches the decimal dot off	  //printf("ov1: %d \n", overflow);  } else if(overflow > 6) {	//otherwise if overflow is greater than 6   PORTB = 0x20;					//switches the horizontal dash on   for(int i=0;i<50000;i++)			//waits briefly   {}		   PORTB = 0x00;					//switches the horizontal dash off	   //printf("ov2: %d \n", overflow);  } //printf("ov3: %d \n", overflow); if (state){					//checks if state is equal to 1 overflow = 0;					//makes overflow equal to 0 } flag = 0;						//makes flag equal to 0 state = ((state + 1)%2);			//makes state equal to the remainder when state plus 1 is divided by 2 }void interrupt 16 TOFISR() {		//tells the microcontroller what to do when the timer overflows TFLG2 = 0x80;					//clears the flag overflow++;					//increments overflowif((overflow > 16) && (!(PTT & 0x04)) && (flag == 0)){ //checks if overflow is greater than 16 and if the key is not pressed and if flag is equal to 0   flag = 1;					//makes flag equal to 1   overflow = 0;					//makes overflow equal to 0 }}int main(void) { DDRB = 0x60;					//sets pins 5 and 6 as output PORTB =0x00;					//initially gives all pins a low  EnableInterrupts; TERMIO_Init(); TSCR1 |= 0x80;                       // Enables free running counter TCTL4 = 0x30;                        // Detects rising and falling// edge for channel 2 TIE |= 0x04;                         // Enable pin input capture// (Dependent on C2I) TFLG1 = 0x04;                        // Flag// (Dependent on C2F) TSCR2 |= 0x80;                       // Enable TOI-local interrupt TFLG2 = 0x80;                        // Clear TOF flag while (1){					//infinite loop };}